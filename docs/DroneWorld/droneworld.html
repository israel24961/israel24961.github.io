<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li:not(:nth-child(6)) > a, .site-nav > ul.nav-list:first-child > li > ul > li a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(6) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(6) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(6) > ul.nav-list { display: block; } </style> <script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="icon" href="/favicon.ico" type="image/x-icon"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>A simple project?</title> <meta name="generator" content="Jekyll v4.3.4" /> <meta property="og:title" content="A simple project?" /> <meta property="og:locale" content="en_US" /> <link rel="canonical" href="http://localhost:4000/docs/DroneWorld/droneworld.html" /> <meta property="og:url" content="http://localhost:4000/docs/DroneWorld/droneworld.html" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="A simple project?" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","headline":"A simple project?","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/img/monkey.gif"}},"url":"http://localhost:4000/docs/DroneWorld/droneworld.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/" class="site-title lh-tight"> <div class="site-logo" role="img" aria-label=""></div> </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/" class="nav-list-link">Home</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in TFG category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/tfg/tfg.html" class="nav-list-link">TFG</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/tfg/roadmap.html" class="nav-list-link">Roadmap</a></li><li class="nav-list-item"><a href="/docs/tfg/roadmap_2.html" class="nav-list-link">Roadmap_2-Voronoi_Cells</a></li><li class="nav-list-item"><a href="/docs/tfg/conclusions.html" class="nav-list-link">Conclusions</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in chatbot category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/chatbot/chatbot.html" class="nav-list-link">chatbot</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/chatbot/gpt4.html" class="nav-list-link">open ai's gpt</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in routing category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/routing/routing.html" class="nav-list-link">routing</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/routing/routing_roadmap.html" class="nav-list-link">routing roadmap</a></li></ul></li><li class="nav-list-item"><a href="/docs/crm/0_someexp.html" class="nav-list-link">CRM - customer relationship managment</a></li><li class="nav-list-item"><a href="/docs/DroneWorld/droneworld.html" class="nav-list-link">A simple project?</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search" aria-label="Search" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div class="main-content-wrap"> <div id="main-content" class="main-content"> <main> <p class="label">Last Modified: 2024-Feb-20</p> <h1 id="1--introduction"> <a href="#1--introduction" class="anchor-heading" aria-labelledby="1--introduction"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1) Introduction </h1> <p class="label">Cringe motivation</p> <p>The language of choice is C, because I want to try <a href="https://thephd.dev/c23-is-coming-here-is-what-is-on-the-menu">the new c23’s features</a>, also, using OPENGL because I already know some and how much Raylib eases the development.</p> <p>The main motivation, little rant, I’ve started a new position as a C# backend developer, which is not boring by itself, but having started in the junior dev role with it’s corespondent low wadge makes me unmotivated to share the improvements I’ve made upon some main data pipelines. It’s kind of a bummer, but I’m not going to give up on my dreams, so I’m going to start a new project, a simple one, to keep me motivated and to keep me learning.</p> <p>I might make some entries about EF/C# optimizations, gotta make having read the language specification useful😀.</p> <h1 id="2-first-iteration"> <a href="#2-first-iteration" class="anchor-heading" aria-labelledby="2-first-iteration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2) First iteration </h1> <p><img src="../../img/droneworld/proto0.png" alt="Proto0" /></p> <p>Nice and simple, let’s code… AAnd this is too abstracted, the main problems is what data should the opengl thread have.</p> <p>On this first iteration, I converted the json of the ways and nodes returned by the query into 2D paths.</p> <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">struct</span> <span class="n">node</span> <span class="p">{</span>
  <span class="n">u64</span> <span class="n">id</span><span class="p">;</span>
  <span class="kt">double</span> <span class="n">lat</span><span class="p">;</span>
  <span class="kt">double</span> <span class="n">lon</span><span class="p">;</span>
<span class="p">};</span>
<span class="k">struct</span> <span class="n">way</span> <span class="p">{</span>
  <span class="n">u64</span> <span class="n">id</span><span class="p">;</span>
  <span class="n">i64</span> <span class="n">nodesCount</span><span class="p">;</span>
  <span class="k">struct</span> <span class="n">node</span> <span class="o">*</span><span class="n">nodes</span><span class="p">;</span>
<span class="p">};</span>
<span class="k">struct</span> <span class="n">elements</span> <span class="p">{</span>
  <span class="k">struct</span> <span class="n">node</span> <span class="o">*</span><span class="n">nodes</span><span class="p">;</span>
  <span class="k">struct</span> <span class="n">way</span> <span class="o">*</span><span class="n">ways</span><span class="p">;</span>
  <span class="n">u64</span> <span class="n">nodesCount</span><span class="p">;</span>
  <span class="n">u64</span> <span class="n">waysCount</span><span class="p">;</span>
<span class="p">};</span>
</code></pre></div></div> <p>Then turn the 2D paths into rectangles as they are roads, which are rect with some angles and curves.😥 For now in the cpu, but I think I can bake something in the geometry shader.</p> <p><img src="/img/droneworld/pathtoroad.png" alt="path to road" /></p> <ul class="label"> <li>Path to road</li> </ul> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>If we only have into consideration the next point, once the path angles a bit, there will be some weird effects, without making it too complicated or complex, making only 2 road points per path point should be enough.
</code></pre></div></div> <ul> <li>Data structure for managing the road: For now I’m just using arrays, yep…. 10k start to hit 5 seconds</li> </ul> </main> <hr> <footer> <em> <small>"... and then, all you've coded will be lost, like tears in the rain"<small> <em> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
